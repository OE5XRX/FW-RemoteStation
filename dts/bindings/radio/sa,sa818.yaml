# Copyright (c) 2025 OE5XRX
# SPDX-License-Identifier: LGPL-3.0-or-later

# SA818/SA818S FM Transceiver Module Device Tree Binding
# Defines properties for NiceRF SA818 UART-controlled VHF/UHF radio module

description: SA818 / SA818S FM transceiver module

compatible: "sa,sa818"

include: base.yaml

properties:
  uart:
    type: phandle
    required: true
    description: UART interface used for SA818 control commands

  io-channels:
    type: phandle-array
    required: true
    description: >
      IO channels used by SA818. Must contain exactly two entries:
      First entry is ADC for audio input (required),
      second entry is DAC for audio output (required).
      Example: <&adc0 0>, <&wav_dac 0>
      Use wav-dac on native_sim or real hardware DAC on embedded targets.

  io-channel-names:
    type: string-array
    required: false
    description: Optional names for io-channels (e.g. "audio_in", "audio_out")

  h-l-power-gpios:
    type: phandle-array
    required: true
    description: High/Low power select GPIO

  nptt-gpios:
    type: phandle-array
    required: true
    description: Active-low PTT control GPIO

  npower-down-gpios:
    type: phandle-array
    required: true
    description: Active-low power-down GPIO

  nsquelch-gpios:
    type: phandle-array
    required: true
    description: Active-low squelch indicator GPIO

  tx-enable-delay-ms:
    type: int
    default: 20
    description: Delay after enabling TX before audio is considered valid

  rx-settle-time-ms:
    type: int
    default: 50
    description: Delay after RX activation before audio is considered stable
