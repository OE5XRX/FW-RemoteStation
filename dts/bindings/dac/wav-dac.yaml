# SPDX-License-Identifier: LGPL-3.0-or-later
# Copyright (c) 2025 OE5XRX

description: |
  WAV File DAC Emulator
  
  This driver emulates a DAC by writing audio samples to a WAV file.
  Useful for testing and simulation on platforms without real hardware DAC.
  
  Example devicetree node:
  
    wav_dac: dac@0 {
        compatible = "wav-dac";
        #io-channel-cells = <1>;
        output-file = "audio_output.wav";
        sample-rate = <8000>;
        channels = <1>;
        bits-per-sample = <16>;
    };

compatible: "wav-dac"

include: [dac-controller.yaml]

io-channel-cells:
  - output

properties:
  output-file:
    type: string
    required: true
    description: Path to output WAV file

  sample-rate:
    type: int
    default: 8000
    description: Sample rate in Hz

  channels:
    type: int
    default: 1
    enum:
      - 1
      - 2
    description: Number of audio channels (1=mono, 2=stereo)

  bits-per-sample:
    type: int
    default: 16
    enum:
      - 8
      - 16
    description: Bits per sample

  resolution:
    type: int
    default: 16
    description: DAC resolution in bits
