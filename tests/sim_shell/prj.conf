# Copyright (c) 2025 OE5XRX
# SPDX-License-Identifier: LGPL-3.0-or-later

# Simulation Shell Test Project Configuration
# Pytest-based integration tests for SA818 driver and audio subsystems
# Runs on native_sim with hardware emulators

# =============================================================================
# Language & Standard Library
# =============================================================================
CONFIG_CPP=y
CONFIG_STD_CPP20=y
CONFIG_EXTERNAL_LIBCPP=y

# =============================================================================
# Native Simulator Configuration
# =============================================================================
# Direct UART to stdin/stdout for pytest communication
CONFIG_NATIVE_EXTRA_CMDLINE_ARGS="-uart_stdinout"

# POSIX API for file I/O (WAV file loading)
CONFIG_POSIX_API=y

# =============================================================================
# Shell Interface (pytest test harness)
# =============================================================================
CONFIG_PRINTK=y
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="fm> "

# Shell commands for testing
CONFIG_KERNEL_SHELL=y
CONFIG_DEVICE_SHELL=y

# =============================================================================
# Logging (for test debugging)
# =============================================================================
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BACKEND_UART=y

# =============================================================================
# Peripheral Emulators
# =============================================================================

# ADC Emulator - Audio input simulation
CONFIG_ADC=y
CONFIG_ADC_EMUL=y
CONFIG_ADC_SHELL=y

# GPIO Emulator - SA818 control signal simulation
CONFIG_GPIO=y
CONFIG_GPIO_EMUL=y
CONFIG_GPIO_SHELL=y

# DAC Support - SA818 audio output
CONFIG_DAC=y

# WAV File DAC Emulator - Records audio to WAV file for testing
CONFIG_DAC_WAV=y

# =============================================================================
# Radio Driver (under test)
# =============================================================================
CONFIG_SA818=y
