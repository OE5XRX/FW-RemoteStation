# Copyright (c) 2025 OE5XRX
# SPDX-License-Identifier: LGPL-3.0-or-later

# USB Audio Bridge Tests
# Tests for application-level USB Audio Class 2 integration

tests:
  fm.usb_audio.build:
    # Build test - verifies USB Audio compiles for fm_board
    build_only: true
    platform_allow:
      - fm_board/stm32f302xc
    tags:
      - usb
      - audio
    
  fm.usb_audio.stream:
    # Runtime test on fm_board with USB Audio enabled
    platform_allow:
      - fm_board/stm32f302xc
    harness: pytest
    harness_config:
      pytest_root:
        - pytest
    tags:
      - usb
      - audio
      - hardware
    integration_platforms:
      - fm_board/stm32f302xc
